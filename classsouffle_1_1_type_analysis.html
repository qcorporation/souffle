<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>souffle: souffle::TypeAnalysis Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">souffle
   &#160;<span id="projectnumber">e23420a</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacesouffle.html">souffle</a></li><li class="navelem"><a class="el" href="classsouffle_1_1_type_analysis.html">TypeAnalysis</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">souffle::TypeAnalysis Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_ast_type_analysis_8h_source.html">AstTypeAnalysis.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for souffle::TypeAnalysis:</div>
<div class="dyncontent">
<div class="center"><img src="classsouffle_1_1_type_analysis__inherit__graph.png" border="0" usemap="#souffle_1_1_type_analysis_inherit__map" alt="Inheritance graph"/></div>
<map name="souffle_1_1_type_analysis_inherit__map" id="souffle_1_1_type_analysis_inherit__map">
<area shape="rect" id="node2" href="classsouffle_1_1_ast_analysis.html" title="Abstract class for a AST Analysis. " alt="" coords="9,5,160,141"/>
</map>
</div>
<div class="dynheader">
Collaboration diagram for souffle::TypeAnalysis:</div>
<div class="dyncontent">
<div class="center"><img src="classsouffle_1_1_type_analysis__coll__graph.png" border="0" usemap="#souffle_1_1_type_analysis_coll__map" alt="Collaboration graph"/></div>
<map name="souffle_1_1_type_analysis_coll__map" id="souffle_1_1_type_analysis_coll__map">
<area shape="rect" id="node2" href="classsouffle_1_1_ast_analysis.html" title="Abstract class for a AST Analysis. " alt="" coords="5,145,156,281"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae54c7f752529cbe534c2cc52944c7768"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structsouffle_1_1_type_set.html">TypeSet</a> const  &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsouffle_1_1_type_analysis.html#ae54c7f752529cbe534c2cc52944c7768">getTypes</a> (const <a class="el" href="classsouffle_1_1_ast_argument.html">AstArgument</a> *argument) const</td></tr>
<tr class="memdesc:ae54c7f752529cbe534c2cc52944c7768"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the computed types for the given argument.  <a href="#ae54c7f752529cbe534c2cc52944c7768">More...</a><br /></td></tr>
<tr class="separator:ae54c7f752529cbe534c2cc52944c7768"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8b14d983a147434ebbbea66d4072229"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsouffle_1_1_type_analysis.html#ad8b14d983a147434ebbbea66d4072229">print</a> (std::ostream &amp;os) const override</td></tr>
<tr class="memdesc:ad8b14d983a147434ebbbea66d4072229"><td class="mdescLeft">&#160;</td><td class="mdescRight">print the analysis result in HTML format  <a href="#ad8b14d983a147434ebbbea66d4072229">More...</a><br /></td></tr>
<tr class="separator:ad8b14d983a147434ebbbea66d4072229"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37750304e3c3efc004294bbc934e8549"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsouffle_1_1_type_analysis.html#a37750304e3c3efc004294bbc934e8549">run</a> (const <a class="el" href="classsouffle_1_1_ast_translation_unit.html">AstTranslationUnit</a> &amp;translationUnit) override</td></tr>
<tr class="memdesc:a37750304e3c3efc004294bbc934e8549"><td class="mdescLeft">&#160;</td><td class="mdescRight">run analysis for a Ast translation unit  <a href="#a37750304e3c3efc004294bbc934e8549">More...</a><br /></td></tr>
<tr class="separator:a37750304e3c3efc004294bbc934e8549"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc97c5b50c3b785980a98907187d69ce"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsouffle_1_1_type_analysis.html#adc97c5b50c3b785980a98907187d69ce">TypeAnalysis</a> ()</td></tr>
<tr class="separator:adc97c5b50c3b785980a98907187d69ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classsouffle_1_1_ast_analysis"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classsouffle_1_1_ast_analysis')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classsouffle_1_1_ast_analysis.html">souffle::AstAnalysis</a></td></tr>
<tr class="memitem:a5fd61b774bbbaa51150f44fc9a529c18 inherit pub_methods_classsouffle_1_1_ast_analysis"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsouffle_1_1_ast_analysis.html#a5fd61b774bbbaa51150f44fc9a529c18">AstAnalysis</a> (std::string <a class="el" href="classsouffle_1_1_ast_analysis.html#a7aef6b06ef1b205e5cd5dba8234e5126">identifier</a>)</td></tr>
<tr class="separator:a5fd61b774bbbaa51150f44fc9a529c18 inherit pub_methods_classsouffle_1_1_ast_analysis"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e38d6802cefb0840075763d41580b63 inherit pub_methods_classsouffle_1_1_ast_analysis"><td class="memItemLeft" align="right" valign="top">virtual const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsouffle_1_1_ast_analysis.html#a2e38d6802cefb0840075763d41580b63">getName</a> () const</td></tr>
<tr class="memdesc:a2e38d6802cefb0840075763d41580b63 inherit pub_methods_classsouffle_1_1_ast_analysis"><td class="mdescLeft">&#160;</td><td class="mdescRight">get name of the analysis  <a href="classsouffle_1_1_ast_analysis.html#a2e38d6802cefb0840075763d41580b63">More...</a><br /></td></tr>
<tr class="separator:a2e38d6802cefb0840075763d41580b63 inherit pub_methods_classsouffle_1_1_ast_analysis"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a539a236ce3a9c9e6efc7c712b8720df9 inherit pub_methods_classsouffle_1_1_ast_analysis"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsouffle_1_1_ast_analysis.html#a539a236ce3a9c9e6efc7c712b8720df9">~AstAnalysis</a> ()=default</td></tr>
<tr class="separator:a539a236ce3a9c9e6efc7c712b8720df9 inherit pub_methods_classsouffle_1_1_ast_analysis"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ad03f4742d97ca60ab48f0f76ba0a1b0e"><td class="memItemLeft" align="right" valign="top">static std::map&lt; const <a class="el" href="classsouffle_1_1_ast_argument.html">AstArgument</a> *, <a class="el" href="structsouffle_1_1_type_set.html">TypeSet</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsouffle_1_1_type_analysis.html#ad03f4742d97ca60ab48f0f76ba0a1b0e">analyseTypes</a> (const <a class="el" href="classsouffle_1_1_type_environment.html">TypeEnvironment</a> &amp;env, const <a class="el" href="classsouffle_1_1_ast_clause.html">AstClause</a> &amp;clause, const <a class="el" href="classsouffle_1_1_ast_program.html">AstProgram</a> *program, std::ostream *logs=nullptr)</td></tr>
<tr class="memdesc:ad03f4742d97ca60ab48f0f76ba0a1b0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Analyse the given clause and computes for each contained argument a set of potential types.  <a href="#ad03f4742d97ca60ab48f0f76ba0a1b0e">More...</a><br /></td></tr>
<tr class="separator:ad03f4742d97ca60ab48f0f76ba0a1b0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a88c2b46242dcb7466a869059309b965e"><td class="memItemLeft" align="right" valign="top">static constexpr const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsouffle_1_1_type_analysis.html#a88c2b46242dcb7466a869059309b965e">name</a> = &quot;type-analysis&quot;</td></tr>
<tr class="separator:a88c2b46242dcb7466a869059309b965e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:afc9b7ee6a35619da76e4277ee8b63ed3"><td class="memItemLeft" align="right" valign="top">std::stringstream&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsouffle_1_1_type_analysis.html#afc9b7ee6a35619da76e4277ee8b63ed3">analysisLogs</a></td></tr>
<tr class="separator:afc9b7ee6a35619da76e4277ee8b63ed3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9b0bfb44850f1c3295306cd9cea7c84"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::unique_ptr&lt; <a class="el" href="classsouffle_1_1_ast_clause.html">AstClause</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsouffle_1_1_type_analysis.html#ac9b0bfb44850f1c3295306cd9cea7c84">annotatedClauses</a></td></tr>
<tr class="separator:ac9b0bfb44850f1c3295306cd9cea7c84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa78a3ac07ebd79b4d3e3d1c277522178"><td class="memItemLeft" align="right" valign="top">std::map&lt; const <a class="el" href="classsouffle_1_1_ast_argument.html">AstArgument</a> *, <a class="el" href="structsouffle_1_1_type_set.html">TypeSet</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsouffle_1_1_type_analysis.html#aa78a3ac07ebd79b4d3e3d1c277522178">argumentTypes</a></td></tr>
<tr class="separator:aa78a3ac07ebd79b4d3e3d1c277522178"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_attribs_classsouffle_1_1_ast_analysis"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classsouffle_1_1_ast_analysis')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classsouffle_1_1_ast_analysis.html">souffle::AstAnalysis</a></td></tr>
<tr class="memitem:a7aef6b06ef1b205e5cd5dba8234e5126 inherit pro_attribs_classsouffle_1_1_ast_analysis"><td class="memItemLeft" align="right" valign="top">const std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsouffle_1_1_ast_analysis.html#a7aef6b06ef1b205e5cd5dba8234e5126">identifier</a></td></tr>
<tr class="separator:a7aef6b06ef1b205e5cd5dba8234e5126 inherit pro_attribs_classsouffle_1_1_ast_analysis"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="_ast_type_analysis_8h_source.html#l00035">35</a> of file <a class="el" href="_ast_type_analysis_8h_source.html">AstTypeAnalysis.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="adc97c5b50c3b785980a98907187d69ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc97c5b50c3b785980a98907187d69ce">&#9670;&nbsp;</a></span>TypeAnalysis()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">souffle::TypeAnalysis::TypeAnalysis </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_ast_type_analysis_8h_source.html#l00039">39</a> of file <a class="el" href="_ast_type_analysis_8h_source.html">AstTypeAnalysis.h</a>.</p>

<p class="reference">References <a class="el" href="_ast_type_analysis_8cpp_source.html#l00504">print()</a>, and <a class="el" href="_ast_type_analysis_8cpp_source.html#l00479">run()</a>.</p>
<div class="fragment"><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;: <a class="code" href="classsouffle_1_1_ast_analysis.html#a5fd61b774bbbaa51150f44fc9a529c18">AstAnalysis</a>(<a class="code" href="classsouffle_1_1_type_analysis.html#a88c2b46242dcb7466a869059309b965e">name</a>) {}</div><div class="ttc" id="classsouffle_1_1_ast_analysis_html_a5fd61b774bbbaa51150f44fc9a529c18"><div class="ttname"><a href="classsouffle_1_1_ast_analysis.html#a5fd61b774bbbaa51150f44fc9a529c18">souffle::AstAnalysis::AstAnalysis</a></div><div class="ttdeci">AstAnalysis(std::string identifier)</div><div class="ttdef"><b>Definition:</b> <a href="_ast_analysis_8h_source.html#l00032">AstAnalysis.h:32</a></div></div>
<div class="ttc" id="classsouffle_1_1_type_analysis_html_a88c2b46242dcb7466a869059309b965e"><div class="ttname"><a href="classsouffle_1_1_type_analysis.html#a88c2b46242dcb7466a869059309b965e">souffle::TypeAnalysis::name</a></div><div class="ttdeci">static constexpr const char * name</div><div class="ttdef"><b>Definition:</b> <a href="_ast_type_analysis_8h_source.html#l00037">AstTypeAnalysis.h:37</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsouffle_1_1_type_analysis_adc97c5b50c3b785980a98907187d69ce_cgraph.png" border="0" usemap="#classsouffle_1_1_type_analysis_adc97c5b50c3b785980a98907187d69ce_cgraph" alt=""/></div>
<map name="classsouffle_1_1_type_analysis_adc97c5b50c3b785980a98907187d69ce_cgraph" id="classsouffle_1_1_type_analysis_adc97c5b50c3b785980a98907187d69ce_cgraph">
<area shape="rect" id="node2" href="classsouffle_1_1_type_analysis.html#ad8b14d983a147434ebbbea66d4072229" title="print the analysis result in HTML format " alt="" coords="227,91,385,133"/>
<area shape="rect" id="node3" href="classsouffle_1_1_type_analysis.html#a37750304e3c3efc004294bbc934e8549" title="run analysis for a Ast translation unit " alt="" coords="212,157,400,184"/>
<area shape="rect" id="node4" href="classsouffle_1_1_global.html#a2dcb257b0f98d0b882862427cc965640" title="souffle::Global::config" alt="" coords="692,32,855,59"/>
<area shape="rect" id="node5" href="classsouffle_1_1_ast_translation_unit.html#a85862a5fcfecdf63c7367926cdedde23" title="get the AST program " alt="" coords="448,51,641,93"/>
<area shape="rect" id="node6" href="classsouffle_1_1_ast_translation_unit.html#af396e44c83e5ad410c9ec3e2f6b91758" title="get analysis: analysis is generated on the fly if not present " alt="" coords="448,117,641,158"/>
<area shape="rect" id="node8" href="classsouffle_1_1_ast_program.html#a71fb3c28c3a105637c22cbe6a9fb63ef" title="get relations " alt="" coords="469,182,620,223"/>
<area shape="rect" id="node10" href="namespacesouffle.html#a4d9e53888640a9abfd7ea7c43715152a" title="Returns a vector of clauses in the program describing the relation with the given name..." alt="" coords="471,248,618,275"/>
<area shape="rect" id="node12" href="namespacesouffle.html#a42eef65f1512c8189dc19ae26f200acc" title="souffle::createAnnotated\lClause" alt="" coords="453,338,636,379"/>
<area shape="rect" id="node7" href="classsouffle_1_1_debug_report.html#a4e6fe0a6d9854ce570d008772daa9aba" title="souffle::DebugReport\l::addSection" alt="" coords="694,117,853,158"/>
<area shape="rect" id="node9" href="namespacesouffle.html#ad62d4e824a9d74c7462da546a21780fe" title="A utility function enabling the creation of a vector of pointers. " alt="" coords="932,219,1079,245"/>
<area shape="rect" id="node11" href="classsouffle_1_1_ast_program.html#aa04b430e385f40c6fe2bf7ad2ca31bb3" title="get clauses " alt="" coords="698,241,849,282"/>
<area shape="rect" id="node13" href="classsouffle_1_1_ast_clause.html#ab7a5b630d02cd69873aab066c2bd9c46" title="Apply the mapper to all child nodes. " alt="" coords="704,306,843,347"/>
<area shape="rect" id="node14" href="classsouffle_1_1_ast_clause.html#aef9cb574a067db73c83fd9c9f63d297f" title="Create a clone (i.e. " alt="" coords="704,371,843,413"/>
<area shape="rect" id="node17" href="namespacesouffle.html#a307bae61c898715dccb57c9732335000" title="A utility function visiting all nodes within the ast rooted by the given node recursively in a depth&#45;..." alt="" coords="689,437,857,464"/>
<area shape="rect" id="node15" href="namespacesouffle.html#a018886d19f141b1cb565199a517c598f" title="souffle::clone" alt="" coords="951,328,1060,355"/>
<area shape="rect" id="node16" href="classsouffle_1_1_ast_node.html#ae84bf084ceca6ac36dc4be406f42870f" title="Return source location of the AstNode. " alt="" coords="905,379,1105,405"/>
<area shape="rect" id="node18" href="namespacesouffle.html#a030c754119d60ea72cff8af5b62710e6" title="A utility function visiting all nodes within the ast rooted by the given node recursively in a depth&#45;..." alt="" coords="921,430,1089,471"/>
<area shape="rect" id="node19" href="classsouffle_1_1_ast_node.html#a07dd728cde93a2b1d72d987cf54cbd8e" title="Obtain a list of all embedded AST child nodes. " alt="" coords="1153,430,1344,471"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ad03f4742d97ca60ab48f0f76ba0a1b0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad03f4742d97ca60ab48f0f76ba0a1b0e">&#9670;&nbsp;</a></span>analyseTypes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt; const <a class="el" href="classsouffle_1_1_ast_argument.html">AstArgument</a> *, <a class="el" href="structsouffle_1_1_type_set.html">TypeSet</a> &gt; souffle::TypeAnalysis::analyseTypes </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classsouffle_1_1_type_environment.html">TypeEnvironment</a> &amp;&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classsouffle_1_1_ast_clause.html">AstClause</a> &amp;&#160;</td>
          <td class="paramname"><em>clause</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classsouffle_1_1_ast_program.html">AstProgram</a> *&#160;</td>
          <td class="paramname"><em>program</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::ostream *&#160;</td>
          <td class="paramname"><em>logs</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Analyse the given clause and computes for each contained argument a set of potential types. </p>
<p>Generic type analysis framework for clauses.</p>
<p>If the set associated to an argument is empty, no consistent typing can be found and the rule can not be properly typed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">env</td><td>a typing environment describing the set of available types </td></tr>
    <tr><td class="paramname">clause</td><td>the clause to be typed </td></tr>
    <tr><td class="paramname">program</td><td>the program </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a map mapping each contained argument to a a set of types </dd></dl>

<p class="definition">Definition at line <a class="el" href="_ast_type_analysis_8cpp_source.html#l00517">517</a> of file <a class="el" href="_ast_type_analysis_8cpp_source.html">AstTypeAnalysis.cpp</a>.</p>

<p class="reference">References <a class="el" href="_util_8h_source.html#l00262">souffle::canBeParsedAsRamFloat()</a>, <a class="el" href="_util_8h_source.html#l00232">souffle::canBeParsedAsRamSigned()</a>, <a class="el" href="_util_8h_source.html#l00249">souffle::canBeParsedAsRamUnsigned()</a>, <a class="el" href="namespacesouffle.html#aa26a7e6147aca5568158e38f08ffcf21a4905ac9d6a22bdfc1ae096094ce6248d">souffle::COUNT</a>, <a class="el" href="html_js_chartist_min_8h_source.html#l00015">e</a>, <a class="el" href="namespacesouffle.html#af5361aa1e84030b37d7c8df1bf45e1c0a22ae0e2b89e5e3d477f988cc36d3272b">souffle::Float</a>, <a class="el" href="classsouffle_1_1_ast_numeric_constant.html#a894651635f1b73b977664ca876ae0752a22ae0e2b89e5e3d477f988cc36d3272b">souffle::AstNumericConstant::Float</a>, <a class="el" href="classsouffle_1_1_ast_functor.html#a9f5f65232109a3102c2e3ed28faa26bd">souffle::AstFunctor::getArgType()</a>, <a class="el" href="_ast_literal_8h_source.html#l00078">souffle::AstAtom::getArguments()</a>, <a class="el" href="_ast_argument_8h_source.html#l00221">souffle::AstTerm::getArguments()</a>, <a class="el" href="_ast_literal_8h_source.html#l00133">souffle::AstNegation::getAtom()</a>, <a class="el" href="_ast_utils_8cpp_source.html#l00075">souffle::getAtomRelation()</a>, <a class="el" href="_ast_argument_8h_source.html#l00118">souffle::AstConstant::getConstant()</a>, <a class="el" href="_type_system_8h_source.html#l00392">souffle::TypeEnvironment::getFloatType()</a>, <a class="el" href="_ast_literal_8h_source.html#l00239">souffle::AstBinaryConstraint::getLHS()</a>, <a class="el" href="_type_system_8h_source.html#l00384">souffle::TypeEnvironment::getNumberType()</a>, <a class="el" href="_type_system_8h_source.html#l00416">souffle::TypeEnvironment::getNumericTypes()</a>, <a class="el" href="_ast_argument_8h_source.html#l00490">souffle::AstAggregator::getOperator()</a>, <a class="el" href="classsouffle_1_1_ast_functor.html#a503ff57e30e3e80bdf94b70200c6a626">souffle::AstFunctor::getReturnType()</a>, <a class="el" href="_ast_literal_8h_source.html#l00244">souffle::AstBinaryConstraint::getRHS()</a>, <a class="el" href="_type_system_8h_source.html#l00396">souffle::TypeEnvironment::getSymbolType()</a>, <a class="el" href="_ast_argument_8h_source.html#l00500">souffle::AstAggregator::getTargetExpression()</a>, <a class="el" href="_ast_argument_8h_source.html#l00179">souffle::AstNumericConstant::getType()</a>, <a class="el" href="_type_system_8cpp_source.html#l00095">souffle::TypeEnvironment::getType()</a>, <a class="el" href="_type_system_8h_source.html#l00388">souffle::TypeEnvironment::getUnsignedType()</a>, <a class="el" href="json11_8h_source.html#l00651">i</a>, <a class="el" href="_type_system_8h_source.html#l00229">souffle::TypeSet::insert()</a>, <a class="el" href="classsouffle_1_1_ast_numeric_constant.html#a894651635f1b73b977664ca876ae0752a1686a6c336b71b36d77354cea19a8b52">souffle::AstNumericConstant::Int</a>, <a class="el" href="_functor_ops_8h_source.html#l00460">souffle::isOverloadedFunctor()</a>, <a class="el" href="_type_system_8cpp_source.html#l00401">souffle::isSubtypeOf()</a>, <a class="el" href="_type_system_8cpp_source.html#l00081">souffle::TypeEnvironment::isType()</a>, <a class="el" href="_resolve_aliases_transformer_8cpp_source.html#l00160">lhs</a>, <a class="el" href="namespacesouffle.html#aa26a7e6147aca5568158e38f08ffcf21a4ea6d1161ea24d7599365f574aff6610">souffle::MEAN</a>, <a class="el" href="namespacesouffle.html#a28ddd8269d2a01a6041800d3b2e3fad9ac23431d0209648a6b31fa837dd56d681">souffle::ORD</a>, <a class="el" href="_resolve_aliases_transformer_8cpp_source.html#l00161">rhs</a>, <a class="el" href="namespacesouffle.html#af5361aa1e84030b37d7c8df1bf45e1c0a71fed0c3428bf1a2e19af257c4bac379">souffle::Signed</a>, <a class="el" href="namespacesouffle.html#af5361aa1e84030b37d7c8df1bf45e1c0a02c86eb2792f3262c21d030a87e19793">souffle::Symbol</a>, <a class="el" href="classsouffle_1_1_ast_numeric_constant.html#a894651635f1b73b977664ca876ae0752afa28cf323a8d44edbf80f68165f4f75b">souffle::AstNumericConstant::Uint</a>, and <a class="el" href="namespacesouffle.html#af5361aa1e84030b37d7c8df1bf45e1c0aa1a914735b205424ba6c40b85528d78a">souffle::Unsigned</a>.</p>

<p class="reference">Referenced by <a class="el" href="_ast_type_analysis_8h_source.html#l00048">getTypes()</a>, and <a class="el" href="_ast_transforms_8cpp_source.html#l00224">souffle::MaterializeAggregationQueriesTransformer::materializeAggregationQueries()</a>.</p>
<div class="fragment"><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                                                                                                          {</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <span class="keyword">struct </span>Analysis : <span class="keyword">public</span> AstConstraintAnalysis&lt;TypeVar&gt; {</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        <span class="keyword">const</span> TypeEnvironment&amp; env;</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        <span class="keyword">const</span> AstProgram* program;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        std::set&lt;const AstAtom*&gt; negated;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        Analysis(<span class="keyword">const</span> TypeEnvironment&amp; env, <span class="keyword">const</span> AstProgram* program) : env(env), program(program) {}</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        <span class="comment">// predicate</span></div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        <span class="keywordtype">void</span> visitAtom(<span class="keyword">const</span> AstAtom&amp; atom)<span class="keyword"> override </span>{</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;            <span class="comment">// get relation</span></div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;            <span class="keyword">auto</span> rel = <a class="code" href="namespacesouffle.html#ab18cbb3adc2ab328de0db30a3fddf7e0">getAtomRelation</a>(&amp;atom, program);</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;            <span class="keywordflow">if</span> (rel == <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;                <span class="keywordflow">return</span>;  <span class="comment">// error in input program</span></div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;            }</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;            <span class="keyword">auto</span> atts = rel-&gt;getAttributes();</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;            <span class="keyword">auto</span> args = atom.getArguments();</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;            <span class="keywordflow">if</span> (atts.size() != args.size()) {</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                <span class="keywordflow">return</span>;  <span class="comment">// error in input program</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;            }</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;            <span class="comment">// set upper boundary of argument types</span></div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="json11_8h.html#ae46bd26d7133dfe98f8cec7c5ac5c7a1">i</a> = 0; <a class="code" href="json11_8h.html#ae46bd26d7133dfe98f8cec7c5ac5c7a1">i</a> &lt; atts.size(); <a class="code" href="json11_8h.html#ae46bd26d7133dfe98f8cec7c5ac5c7a1">i</a>++) {</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                <span class="keyword">const</span> <span class="keyword">auto</span>&amp; typeName = atts[<a class="code" href="json11_8h.html#ae46bd26d7133dfe98f8cec7c5ac5c7a1">i</a>]-&gt;getTypeName();</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                <span class="keywordflow">if</span> (env.isType(typeName)) {</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                    <span class="comment">// check whether atom is not negated</span></div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                    <span class="keywordflow">if</span> (negated.find(&amp;atom) == negated.end()) {</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                        addConstraint(<a class="code" href="namespacesouffle.html#a8cc19c66d9d13ce64e65f14dcabb43b3">isSubtypeOf</a>(getVar(args[<a class="code" href="json11_8h.html#ae46bd26d7133dfe98f8cec7c5ac5c7a1">i</a>]), env.getType(typeName)));</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                        addConstraint(isSupertypeOf(getVar(args[<a class="code" href="json11_8h.html#ae46bd26d7133dfe98f8cec7c5ac5c7a1">i</a>]), env.getType(typeName)));</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                    }</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                }</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;            }</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        }</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        <span class="comment">// negations need to be skipped</span></div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        <span class="keywordtype">void</span> visitNegation(<span class="keyword">const</span> AstNegation&amp; cur)<span class="keyword"> override </span>{</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;            <span class="comment">// add nested atom to black-list</span></div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;            negated.insert(cur.getAtom());</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        }</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        <span class="comment">// symbol</span></div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        <span class="keywordtype">void</span> visitStringConstant(<span class="keyword">const</span> AstStringConstant&amp; cnst)<span class="keyword"> override </span>{</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;            addConstraint(<a class="code" href="namespacesouffle.html#a8cc19c66d9d13ce64e65f14dcabb43b3">isSubtypeOf</a>(getVar(cnst), env.getSymbolType()));</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        }</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        <span class="comment">// Numeric constant</span></div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        <span class="keywordtype">void</span> visitNumericConstant(<span class="keyword">const</span> AstNumericConstant&amp; constant)<span class="keyword"> override </span>{</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;            TypeSet possibleTypes;</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;            <span class="comment">// Check if the type is given.</span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;            <span class="keywordflow">if</span> (constant.getType().has_value()) {</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;                <span class="keywordflow">switch</span> (*constant.getType()) {</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;                    <span class="comment">// Insert a type, but only after checking that parsing is possible.</span></div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="classsouffle_1_1_ast_numeric_constant.html#a894651635f1b73b977664ca876ae0752a1686a6c336b71b36d77354cea19a8b52">AstNumericConstant::Type::Int</a>:</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="namespacesouffle.html#a89f207449b2332bf06ab28993dda09b9">canBeParsedAsRamSigned</a>(constant.getConstant())) {</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;                            possibleTypes.insert(env.getNumberType());</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;                        }</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="classsouffle_1_1_ast_numeric_constant.html#a894651635f1b73b977664ca876ae0752afa28cf323a8d44edbf80f68165f4f75b">AstNumericConstant::Type::Uint</a>:</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="namespacesouffle.html#a3773094eb7aa42e20a209b40c9873aa4">canBeParsedAsRamUnsigned</a>(constant.getConstant())) {</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                            possibleTypes.insert(env.getUnsignedType());</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                        }</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="classsouffle_1_1_ast_numeric_constant.html#a894651635f1b73b977664ca876ae0752a22ae0e2b89e5e3d477f988cc36d3272b">AstNumericConstant::Type::Float</a>:</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="namespacesouffle.html#a785852c2fc649d79a481627605ffcf4f">canBeParsedAsRamFloat</a>(constant.getConstant())) {</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                            possibleTypes.insert(env.getFloatType());</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;                        }</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                }</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                <span class="comment">// Else: all numeric types that can be parsed are valid.</span></div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="namespacesouffle.html#a89f207449b2332bf06ab28993dda09b9">canBeParsedAsRamSigned</a>(constant.getConstant())) {</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                    possibleTypes.insert(env.getNumberType());</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                }</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="namespacesouffle.html#a3773094eb7aa42e20a209b40c9873aa4">canBeParsedAsRamUnsigned</a>(constant.getConstant())) {</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                    possibleTypes.insert(env.getUnsignedType());</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                }</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="namespacesouffle.html#a785852c2fc649d79a481627605ffcf4f">canBeParsedAsRamFloat</a>(constant.getConstant())) {</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                    possibleTypes.insert(env.getFloatType());</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;                }</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;            }</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;            addConstraint(hasSuperTypeInSet(getVar(constant), possibleTypes));</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        }</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        <span class="comment">// binary constraint</span></div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        <span class="keywordtype">void</span> visitBinaryConstraint(<span class="keyword">const</span> AstBinaryConstraint&amp; rel)<span class="keyword"> override </span>{</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;            <span class="keyword">auto</span> <a class="code" href="_resolve_aliases_transformer_8cpp.html#aae193eebe112e754a082b152fb272018">lhs</a> = getVar(rel.getLHS());</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;            <span class="keyword">auto</span> <a class="code" href="_resolve_aliases_transformer_8cpp.html#a99d7476d0087a8405f52a79852efa6eb">rhs</a> = getVar(rel.getRHS());</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;            addConstraint(<a class="code" href="namespacesouffle.html#a8cc19c66d9d13ce64e65f14dcabb43b3">isSubtypeOf</a>(<a class="code" href="_resolve_aliases_transformer_8cpp.html#aae193eebe112e754a082b152fb272018">lhs</a>, rhs));</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;            addConstraint(<a class="code" href="namespacesouffle.html#a8cc19c66d9d13ce64e65f14dcabb43b3">isSubtypeOf</a>(rhs, <a class="code" href="_resolve_aliases_transformer_8cpp.html#aae193eebe112e754a082b152fb272018">lhs</a>));</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;        }</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        <span class="comment">// intrinsic functor</span></div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;        <span class="keywordtype">void</span> visitFunctor(<span class="keyword">const</span> AstFunctor&amp; fun)<span class="keyword"> override </span>{</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;            <span class="keyword">auto</span> functorVar = getVar(fun);</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;            <span class="comment">// In polymorphic case</span></div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;            <span class="comment">// We only require arguments to share a base type with a return type.</span></div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;            <span class="comment">// (instead of, for example, requiring them to be of the same type)</span></div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;            <span class="comment">// This approach is related to old type semantics</span></div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;            <span class="comment">// See #1296 and tests/semantic/type_system4</span></div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;            <span class="keywordflow">if</span> (<span class="keyword">auto</span> intrinsicFunctor = dynamic_cast&lt;const AstIntrinsicFunctor*&gt;(&amp;fun)) {</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="namespacesouffle.html#a1194839f74c824923896977b98541e2e">isOverloadedFunctor</a>(intrinsicFunctor-&gt;getFunction())) {</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;                    <span class="keywordflow">for</span> (<span class="keyword">auto</span>* argument : intrinsicFunctor-&gt;getArguments()) {</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;                        <span class="keyword">auto</span> argumentVar = getVar(argument);</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;                        addConstraint(subtypesOfTheSameBaseType(argumentVar, functorVar));</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;                    }</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;                    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;                }</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;            }</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;            <span class="keywordflow">try</span> {</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;                fun.getReturnType();</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;            } <span class="keywordflow">catch</span> (std::bad_optional_access&amp; <a class="code" href="html_js_chartist_min_8h.html#af6814cb38d86f56d30772f562eaee28e">e</a>) {</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;            }</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;            <span class="comment">// add a constraint for the return type of the functor</span></div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;            <span class="keywordflow">switch</span> (fun.getReturnType()) {</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespacesouffle.html#af5361aa1e84030b37d7c8df1bf45e1c0a71fed0c3428bf1a2e19af257c4bac379">TypeAttribute::Signed</a>:</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;                    addConstraint(<a class="code" href="namespacesouffle.html#a8cc19c66d9d13ce64e65f14dcabb43b3">isSubtypeOf</a>(functorVar, env.getNumberType()));</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespacesouffle.html#af5361aa1e84030b37d7c8df1bf45e1c0a22ae0e2b89e5e3d477f988cc36d3272b">TypeAttribute::Float</a>:</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;                    addConstraint(<a class="code" href="namespacesouffle.html#a8cc19c66d9d13ce64e65f14dcabb43b3">isSubtypeOf</a>(functorVar, env.getFloatType()));</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespacesouffle.html#af5361aa1e84030b37d7c8df1bf45e1c0aa1a914735b205424ba6c40b85528d78a">TypeAttribute::Unsigned</a>:</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;                    addConstraint(<a class="code" href="namespacesouffle.html#a8cc19c66d9d13ce64e65f14dcabb43b3">isSubtypeOf</a>(functorVar, env.getUnsignedType()));</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespacesouffle.html#af5361aa1e84030b37d7c8df1bf45e1c0a02c86eb2792f3262c21d030a87e19793">TypeAttribute::Symbol</a>:</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;                    addConstraint(<a class="code" href="namespacesouffle.html#a8cc19c66d9d13ce64e65f14dcabb43b3">isSubtypeOf</a>(functorVar, env.getSymbolType()));</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;                <span class="keywordflow">default</span>:</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;                    assert(<span class="keyword">false</span> &amp;&amp; <span class="stringliteral">&quot;Invalid return type&quot;</span>);</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;            }</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;            <span class="comment">// Special case</span></div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;            <span class="keywordflow">if</span> (<span class="keyword">auto</span> intrFun = dynamic_cast&lt;const AstIntrinsicFunctor*&gt;(&amp;fun)) {</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;                <span class="keywordflow">if</span> (intrFun-&gt;getFunction() == <a class="code" href="namespacesouffle.html#a28ddd8269d2a01a6041800d3b2e3fad9ac23431d0209648a6b31fa837dd56d681">FunctorOp::ORD</a>) {</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;                    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;                }</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;            }</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;            <span class="keywordtype">size_t</span> <a class="code" href="json11_8h.html#ae46bd26d7133dfe98f8cec7c5ac5c7a1">i</a> = 0;</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">auto</span> arg : fun.getArguments()) {</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;                <span class="keyword">auto</span> argumentVar = getVar(arg);</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                <span class="keywordflow">switch</span> (fun.getArgType(i)) {</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="namespacesouffle.html#af5361aa1e84030b37d7c8df1bf45e1c0a71fed0c3428bf1a2e19af257c4bac379">TypeAttribute::Signed</a>:</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;                        addConstraint(<a class="code" href="namespacesouffle.html#a8cc19c66d9d13ce64e65f14dcabb43b3">isSubtypeOf</a>(argumentVar, env.getNumberType()));</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="namespacesouffle.html#af5361aa1e84030b37d7c8df1bf45e1c0a22ae0e2b89e5e3d477f988cc36d3272b">TypeAttribute::Float</a>:</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;                        addConstraint(<a class="code" href="namespacesouffle.html#a8cc19c66d9d13ce64e65f14dcabb43b3">isSubtypeOf</a>(argumentVar, env.getFloatType()));</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="namespacesouffle.html#af5361aa1e84030b37d7c8df1bf45e1c0aa1a914735b205424ba6c40b85528d78a">TypeAttribute::Unsigned</a>:</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;                        addConstraint(<a class="code" href="namespacesouffle.html#a8cc19c66d9d13ce64e65f14dcabb43b3">isSubtypeOf</a>(argumentVar, env.getUnsignedType()));</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="namespacesouffle.html#af5361aa1e84030b37d7c8df1bf45e1c0a02c86eb2792f3262c21d030a87e19793">TypeAttribute::Symbol</a>:</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;                        addConstraint(<a class="code" href="namespacesouffle.html#a8cc19c66d9d13ce64e65f14dcabb43b3">isSubtypeOf</a>(argumentVar, env.getSymbolType()));</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;                    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;                        assert(<span class="keyword">false</span> &amp;&amp; <span class="stringliteral">&quot;Invalid argument type&quot;</span>);</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;                }</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;                ++<a class="code" href="json11_8h.html#ae46bd26d7133dfe98f8cec7c5ac5c7a1">i</a>;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;            }</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        }</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        <span class="comment">// counter</span></div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        <span class="keywordtype">void</span> visitCounter(<span class="keyword">const</span> AstCounter&amp; counter)<span class="keyword"> override </span>{</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;            <span class="comment">// this value must be a number value</span></div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;            addConstraint(<a class="code" href="namespacesouffle.html#a8cc19c66d9d13ce64e65f14dcabb43b3">isSubtypeOf</a>(getVar(counter), env.getNumberType()));</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;        }</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        <span class="comment">// components of records</span></div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        <span class="keywordtype">void</span> visitRecordInit(<span class="keyword">const</span> AstRecordInit&amp; init)<span class="keyword"> override </span>{</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;            <span class="comment">// link element types with sub-values</span></div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;            <span class="keyword">auto</span> rec = getVar(init);</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;            <span class="keywordtype">int</span> i = 0;</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">const</span> AstArgument* value : init.getArguments()) {</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;                addConstraint(isSubtypeOfComponent(getVar(value), rec, i++));</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;            }</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        }</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;        <span class="comment">// visit aggregates</span></div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;        <span class="keywordtype">void</span> visitAggregator(<span class="keyword">const</span> AstAggregator&amp; agg)<span class="keyword"> override </span>{</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;            <span class="keywordflow">if</span> (agg.getOperator() == <a class="code" href="namespacesouffle.html#aa26a7e6147aca5568158e38f08ffcf21a4905ac9d6a22bdfc1ae096094ce6248d">AggregateOp::COUNT</a>) {</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;                addConstraint(<a class="code" href="namespacesouffle.html#a8cc19c66d9d13ce64e65f14dcabb43b3">isSubtypeOf</a>(getVar(agg), env.getNumberType()));</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (agg.getOperator() == <a class="code" href="namespacesouffle.html#aa26a7e6147aca5568158e38f08ffcf21a4ea6d1161ea24d7599365f574aff6610">AggregateOp::MEAN</a>) {</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;                addConstraint(<a class="code" href="namespacesouffle.html#a8cc19c66d9d13ce64e65f14dcabb43b3">isSubtypeOf</a>(getVar(agg), env.getFloatType()));</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;                addConstraint(hasSuperTypeInSet(getVar(agg), env.getNumericTypes()));</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;            }</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;            <span class="comment">// If there is a target expression - it should be of the same type as the aggregator.</span></div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;            <span class="keywordflow">if</span> (<span class="keyword">auto</span> expr = agg.getTargetExpression()) {</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;                addConstraint(<a class="code" href="namespacesouffle.html#a8cc19c66d9d13ce64e65f14dcabb43b3">isSubtypeOf</a>(getVar(expr), getVar(agg)));</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;                addConstraint(<a class="code" href="namespacesouffle.html#a8cc19c66d9d13ce64e65f14dcabb43b3">isSubtypeOf</a>(getVar(agg), getVar(expr)));</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;            }</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;        }</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    };</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    <span class="comment">// run analysis</span></div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    <span class="keywordflow">return</span> Analysis(env, program).analyse(clause, logs);</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;}</div><div class="ttc" id="namespacesouffle_html_aa26a7e6147aca5568158e38f08ffcf21a4905ac9d6a22bdfc1ae096094ce6248d"><div class="ttname"><a href="namespacesouffle.html#aa26a7e6147aca5568158e38f08ffcf21a4905ac9d6a22bdfc1ae096094ce6248d">souffle::AggregateOp::COUNT</a></div></div>
<div class="ttc" id="classsouffle_1_1_ast_numeric_constant_html_a894651635f1b73b977664ca876ae0752a22ae0e2b89e5e3d477f988cc36d3272b"><div class="ttname"><a href="classsouffle_1_1_ast_numeric_constant.html#a894651635f1b73b977664ca876ae0752a22ae0e2b89e5e3d477f988cc36d3272b">souffle::AstNumericConstant::Type::Float</a></div></div>
<div class="ttc" id="html_js_chartist_min_8h_html_af6814cb38d86f56d30772f562eaee28e"><div class="ttname"><a href="html_js_chartist_min_8h.html#af6814cb38d86f56d30772f562eaee28e">e</a></div><div class="ttdeci">l j a showGridBackground &amp;&amp;c b raw series this eventEmitter e</div><div class="ttdef"><b>Definition:</b> <a href="html_js_chartist_min_8h_source.html#l00015">htmlJsChartistMin.h:15</a></div></div>
<div class="ttc" id="namespacesouffle_html_a785852c2fc649d79a481627605ffcf4f"><div class="ttname"><a href="namespacesouffle.html#a785852c2fc649d79a481627605ffcf4f">souffle::canBeParsedAsRamFloat</a></div><div class="ttdeci">bool canBeParsedAsRamFloat(const std::string &amp;string)</div><div class="ttdoc">Can a string be parsed as RamFloat. </div><div class="ttdef"><b>Definition:</b> <a href="_util_8h_source.html#l00262">Util.h:262</a></div></div>
<div class="ttc" id="json11_8h_html_ae46bd26d7133dfe98f8cec7c5ac5c7a1"><div class="ttname"><a href="json11_8h.html#ae46bd26d7133dfe98f8cec7c5ac5c7a1">i</a></div><div class="ttdeci">size_t i</div><div class="ttdef"><b>Definition:</b> <a href="json11_8h_source.html#l00651">json11.h:651</a></div></div>
<div class="ttc" id="namespacesouffle_html_aa26a7e6147aca5568158e38f08ffcf21a4ea6d1161ea24d7599365f574aff6610"><div class="ttname"><a href="namespacesouffle.html#aa26a7e6147aca5568158e38f08ffcf21a4ea6d1161ea24d7599365f574aff6610">souffle::AggregateOp::MEAN</a></div></div>
<div class="ttc" id="namespacesouffle_html_af5361aa1e84030b37d7c8df1bf45e1c0aa1a914735b205424ba6c40b85528d78a"><div class="ttname"><a href="namespacesouffle.html#af5361aa1e84030b37d7c8df1bf45e1c0aa1a914735b205424ba6c40b85528d78a">souffle::TypeAttribute::Unsigned</a></div></div>
<div class="ttc" id="_resolve_aliases_transformer_8cpp_html_a99d7476d0087a8405f52a79852efa6eb"><div class="ttname"><a href="_resolve_aliases_transformer_8cpp.html#a99d7476d0087a8405f52a79852efa6eb">rhs</a></div><div class="ttdeci">std::unique_ptr&lt; AstArgument &gt; rhs</div><div class="ttdef"><b>Definition:</b> <a href="_resolve_aliases_transformer_8cpp_source.html#l00161">ResolveAliasesTransformer.cpp:161</a></div></div>
<div class="ttc" id="namespacesouffle_html_af5361aa1e84030b37d7c8df1bf45e1c0a02c86eb2792f3262c21d030a87e19793"><div class="ttname"><a href="namespacesouffle.html#af5361aa1e84030b37d7c8df1bf45e1c0a02c86eb2792f3262c21d030a87e19793">souffle::TypeAttribute::Symbol</a></div></div>
<div class="ttc" id="namespacesouffle_html_ab18cbb3adc2ab328de0db30a3fddf7e0"><div class="ttname"><a href="namespacesouffle.html#ab18cbb3adc2ab328de0db30a3fddf7e0">souffle::getAtomRelation</a></div><div class="ttdeci">const AstRelation * getAtomRelation(const AstAtom *atom, const AstProgram *program)</div><div class="ttdoc">Returns the relation referenced by the given atom. </div><div class="ttdef"><b>Definition:</b> <a href="_ast_utils_8cpp_source.html#l00075">AstUtils.cpp:75</a></div></div>
<div class="ttc" id="namespacesouffle_html_a3773094eb7aa42e20a209b40c9873aa4"><div class="ttname"><a href="namespacesouffle.html#a3773094eb7aa42e20a209b40c9873aa4">souffle::canBeParsedAsRamUnsigned</a></div><div class="ttdeci">bool canBeParsedAsRamUnsigned(const std::string &amp;string)</div><div class="ttdoc">Can a string be parsed as RamUnsigned. </div><div class="ttdef"><b>Definition:</b> <a href="_util_8h_source.html#l00249">Util.h:249</a></div></div>
<div class="ttc" id="namespacesouffle_html_af5361aa1e84030b37d7c8df1bf45e1c0a71fed0c3428bf1a2e19af257c4bac379"><div class="ttname"><a href="namespacesouffle.html#af5361aa1e84030b37d7c8df1bf45e1c0a71fed0c3428bf1a2e19af257c4bac379">souffle::TypeAttribute::Signed</a></div></div>
<div class="ttc" id="namespacesouffle_html_af5361aa1e84030b37d7c8df1bf45e1c0a22ae0e2b89e5e3d477f988cc36d3272b"><div class="ttname"><a href="namespacesouffle.html#af5361aa1e84030b37d7c8df1bf45e1c0a22ae0e2b89e5e3d477f988cc36d3272b">souffle::TypeAttribute::Float</a></div></div>
<div class="ttc" id="classsouffle_1_1_ast_numeric_constant_html_a894651635f1b73b977664ca876ae0752afa28cf323a8d44edbf80f68165f4f75b"><div class="ttname"><a href="classsouffle_1_1_ast_numeric_constant.html#a894651635f1b73b977664ca876ae0752afa28cf323a8d44edbf80f68165f4f75b">souffle::AstNumericConstant::Type::Uint</a></div></div>
<div class="ttc" id="namespacesouffle_html_a8cc19c66d9d13ce64e65f14dcabb43b3"><div class="ttname"><a href="namespacesouffle.html#a8cc19c66d9d13ce64e65f14dcabb43b3">souffle::isSubtypeOf</a></div><div class="ttdeci">bool isSubtypeOf(const Type &amp;a, const Type &amp;b)</div><div class="ttdoc">Determines whether type a is a subtype of type b. </div><div class="ttdef"><b>Definition:</b> <a href="_type_system_8cpp_source.html#l00401">TypeSystem.cpp:401</a></div></div>
<div class="ttc" id="namespacesouffle_html_a28ddd8269d2a01a6041800d3b2e3fad9ac23431d0209648a6b31fa837dd56d681"><div class="ttname"><a href="namespacesouffle.html#a28ddd8269d2a01a6041800d3b2e3fad9ac23431d0209648a6b31fa837dd56d681">souffle::FunctorOp::ORD</a></div><div class="ttdoc">Unary Functor Operators. </div></div>
<div class="ttc" id="classsouffle_1_1_ast_numeric_constant_html_a894651635f1b73b977664ca876ae0752a1686a6c336b71b36d77354cea19a8b52"><div class="ttname"><a href="classsouffle_1_1_ast_numeric_constant.html#a894651635f1b73b977664ca876ae0752a1686a6c336b71b36d77354cea19a8b52">souffle::AstNumericConstant::Type::Int</a></div></div>
<div class="ttc" id="namespacesouffle_html_a1194839f74c824923896977b98541e2e"><div class="ttname"><a href="namespacesouffle.html#a1194839f74c824923896977b98541e2e">souffle::isOverloadedFunctor</a></div><div class="ttdeci">bool isOverloadedFunctor(const FunctorOp functor)</div><div class="ttdoc">Indicate whether a functor is overloaded. </div><div class="ttdef"><b>Definition:</b> <a href="_functor_ops_8h_source.html#l00460">FunctorOps.h:460</a></div></div>
<div class="ttc" id="namespacesouffle_html_a89f207449b2332bf06ab28993dda09b9"><div class="ttname"><a href="namespacesouffle.html#a89f207449b2332bf06ab28993dda09b9">souffle::canBeParsedAsRamSigned</a></div><div class="ttdeci">bool canBeParsedAsRamSigned(const std::string &amp;string)</div><div class="ttdoc">Can a string be parsed as RamSigned. </div><div class="ttdef"><b>Definition:</b> <a href="_util_8h_source.html#l00232">Util.h:232</a></div></div>
<div class="ttc" id="_resolve_aliases_transformer_8cpp_html_aae193eebe112e754a082b152fb272018"><div class="ttname"><a href="_resolve_aliases_transformer_8cpp.html#aae193eebe112e754a082b152fb272018">lhs</a></div><div class="ttdeci">std::unique_ptr&lt; AstArgument &gt; lhs</div><div class="ttdef"><b>Definition:</b> <a href="_resolve_aliases_transformer_8cpp_source.html#l00160">ResolveAliasesTransformer.cpp:160</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsouffle_1_1_type_analysis_ad03f4742d97ca60ab48f0f76ba0a1b0e_cgraph.png" border="0" usemap="#classsouffle_1_1_type_analysis_ad03f4742d97ca60ab48f0f76ba0a1b0e_cgraph" alt=""/></div>
<map name="classsouffle_1_1_type_analysis_ad03f4742d97ca60ab48f0f76ba0a1b0e_cgraph" id="classsouffle_1_1_type_analysis_ad03f4742d97ca60ab48f0f76ba0a1b0e_cgraph">
<area shape="rect" id="node2" href="namespacesouffle.html#a785852c2fc649d79a481627605ffcf4f" title="Can a string be parsed as RamFloat. " alt="" coords="215,5,417,47"/>
<area shape="rect" id="node4" href="namespacesouffle.html#a89f207449b2332bf06ab28993dda09b9" title="Can a string be parsed as RamSigned. " alt="" coords="215,71,417,112"/>
<area shape="rect" id="node7" href="namespacesouffle.html#a3773094eb7aa42e20a209b40c9873aa4" title="Can a string be parsed as RamUnsigned. " alt="" coords="215,136,417,177"/>
<area shape="rect" id="node9" href="classsouffle_1_1_ast_functor.html#a9f5f65232109a3102c2e3ed28faa26bd" title="souffle::AstFunctor\l::getArgType" alt="" coords="245,201,387,243"/>
<area shape="rect" id="node10" href="classsouffle_1_1_ast_atom.html#a9c726c597d7921245dd97dcc72b8aeed" title="get arguments " alt="" coords="1042,349,1273,375"/>
<area shape="rect" id="node12" href="classsouffle_1_1_ast_term.html#a5bf9145afa6b327c21e3393123c292c3" title="get arguments " alt="" coords="1333,290,1560,317"/>
<area shape="rect" id="node13" href="classsouffle_1_1_ast_negation.html#a587c8d4fdcfc28f128cc3ff2cf97895c" title="get negated atom " alt="" coords="239,892,393,933"/>
<area shape="rect" id="node14" href="namespacesouffle.html#ab18cbb3adc2ab328de0db30a3fddf7e0" title="Returns the relation referenced by the given atom. " alt="" coords="767,802,949,829"/>
<area shape="rect" id="node19" href="classsouffle_1_1_ast_constant.html#a096e202ad0e1a58d59d501ca999c8ec2" title="souffle::AstConstant\l::getConstant" alt="" coords="239,957,393,999"/>
<area shape="rect" id="node20" href="classsouffle_1_1_type_environment.html#a5569e54d58b6ca69f1fffbdd77143545" title="souffle::TypeEnvironment\l::getFloatType" alt="" coords="765,444,951,485"/>
<area shape="rect" id="node23" href="classsouffle_1_1_ast_binary_constraint.html#a72b9e10473e1748d720bbf68a3e7f471" title="get LHS argument " alt="" coords="214,1023,418,1064"/>
<area shape="rect" id="node24" href="classsouffle_1_1_type_environment.html#a5586a154835d2bfc076b9d5fcc11a50f" title="souffle::TypeEnvironment\l::getNumberType" alt="" coords="765,512,951,553"/>
<area shape="rect" id="node25" href="classsouffle_1_1_type_environment.html#aeb23d98ddd37a09e6019c5450bb82eb9" title="souffle::TypeEnvironment\l::getNumericTypes" alt="" coords="223,1088,409,1129"/>
<area shape="rect" id="node27" href="classsouffle_1_1_ast_aggregator.html#adf64f4a66f682da44e78fd000743e1ea" title="Get aggregate operator. " alt="" coords="233,1153,399,1195"/>
<area shape="rect" id="node28" href="classsouffle_1_1_ast_functor.html#a503ff57e30e3e80bdf94b70200c6a626" title="souffle::AstFunctor\l::getReturnType" alt="" coords="245,1219,387,1260"/>
<area shape="rect" id="node29" href="classsouffle_1_1_ast_binary_constraint.html#a61055c91c04bcbe4d03873044c6bf4b8" title="get RHS argument " alt="" coords="214,1284,418,1325"/>
<area shape="rect" id="node30" href="classsouffle_1_1_type_environment.html#a72fa419d33bf813f22efabec629a4627" title="souffle::TypeEnvironment\l::getSymbolType" alt="" coords="765,736,951,777"/>
<area shape="rect" id="node31" href="classsouffle_1_1_ast_aggregator.html#ab7e1ea1e90047289a281ebe75a19365e" title="Get target expression. " alt="" coords="233,1349,399,1391"/>
<area shape="rect" id="node32" href="classsouffle_1_1_ast_numeric_constant.html#ad55654c8c9b125d7c3c510992c9565d8" title="souffle::AstNumericConstant\l::getType" alt="" coords="212,1415,420,1456"/>
<area shape="rect" id="node33" href="classsouffle_1_1_type_environment.html#ada544cc106c8c80c9120e2c1d1424ebf" title="souffle::TypeEnvironment\l::getType" alt="" coords="223,1480,409,1521"/>
<area shape="rect" id="node34" href="classsouffle_1_1_type_environment.html#a0b191b7782e170a23b54f7ec347a32ab" title="souffle::TypeEnvironment\l::getUnsignedType" alt="" coords="765,372,951,413"/>
<area shape="rect" id="node35" href="structsouffle_1_1_type_set.html#ad779397583248bcbf50b982e5314c2e2" title="Adds the given type to this set. " alt="" coords="231,1546,401,1573"/>
<area shape="rect" id="node36" href="namespacesouffle.html#a1194839f74c824923896977b98541e2e" title="Indicate whether a functor is overloaded. " alt="" coords="213,1597,419,1623"/>
<area shape="rect" id="node37" href="namespacesouffle.html#a8cc19c66d9d13ce64e65f14dcabb43b3" title="Determines whether type a is a subtype of type b. " alt="" coords="239,689,393,715"/>
<area shape="rect" id="node42" href="classsouffle_1_1_type_environment.html#a5ead83575e9abfebb3a0b180a33a7d96" title="souffle::TypeEnvironment\l::isType" alt="" coords="484,841,671,883"/>
<area shape="rect" id="node3" href="namespacesouffle.html#a42f50e44c16d45c78e4a37b005ac94c9" title="Converts a string to a RamFloat. " alt="" coords="474,13,681,39"/>
<area shape="rect" id="node5" href="namespacesouffle.html#ad354d1210c639429c093f92ba2966a75" title="Converts a string to a RamSigned. " alt="" coords="468,79,687,106"/>
<area shape="rect" id="node6" href="namespacesouffle.html#ab9fd86fe230c58e924db2cf47e1ba5e0" title="Determine if one string is a prefix of another. " alt="" coords="797,110,919,137"/>
<area shape="rect" id="node8" href="namespacesouffle.html#a084bbb9535fee35e4682c948ce88bddb" title="Converts a string to a RamUnsigned. " alt="" coords="479,133,676,175"/>
<area shape="rect" id="node11" href="namespacesouffle.html#ad62d4e824a9d74c7462da546a21780fe" title="A utility function enabling the creation of a vector of pointers. " alt="" coords="1608,371,1755,398"/>
<area shape="rect" id="node15" href="classsouffle_1_1_ast_atom.html#a2fcd569fa7d8ed8c0c2dfd0d1c362e50" title="get qualified name " alt="" coords="1029,679,1285,706"/>
<area shape="rect" id="node16" href="namespacesouffle.html#ada252aa15afbf7d703a11b000dfd4048" title="Returns the relation with the given name in the program. " alt="" coords="1083,730,1231,757"/>
<area shape="rect" id="node17" href="namespacesouffle.html#a62f80c157a6a365d78a43592732a8efa" title="Returns the first element in a container that satisfies a given predicate, nullptr otherwise..." alt="" coords="1395,551,1499,578"/>
<area shape="rect" id="node18" href="classsouffle_1_1_ast_program.html#a71fb3c28c3a105637c22cbe6a9fb63ef" title="get relations " alt="" coords="1371,643,1522,684"/>
<area shape="rect" id="node21" href="namespacesouffle.html#a0df5320dfcc5fe6ad9bbda0edc5876bc" title="Returns the type with the given name in the program. " alt="" coords="1095,511,1220,538"/>
<area shape="rect" id="node22" href="classsouffle_1_1_ast_program.html#a0eca120e93df25229f5a39e6895137c2" title="get types " alt="" coords="1371,465,1522,507"/>
<area shape="rect" id="node26" href="classsouffle_1_1_type.html#a00437c665d598367ff16229c823c728f" title="souffle::Type::print" alt="" coords="506,1095,649,1122"/>
<area shape="rect" id="node38" href="classsouffle_1_1_subset_type.html#ac5c52e503cbce42370d6ada3f050773d" title="souffle::SubsetType\l::getBaseType" alt="" coords="503,572,651,613"/>
<area shape="rect" id="node39" href="classsouffle_1_1_type.html#a2bc9172d0ce6390a7960b24b16172c79" title="souffle::Type::getTypeEnvironment" alt="" coords="735,685,981,711"/>
<area shape="rect" id="node40" href="namespacesouffle.html#a4e502e6abb9a3e9a8e4c1168dbf23743" title="Determines whether the given type is a number type. " alt="" coords="494,638,661,665"/>
<area shape="rect" id="node41" href="namespacesouffle.html#a11f6c352eec6bde7b5a0b143ffe64e3b" title="Determines whether the given type is a symbol type. " alt="" coords="495,739,659,766"/>
</map>
</div>

</div>
</div>
<a id="ae54c7f752529cbe534c2cc52944c7768"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae54c7f752529cbe534c2cc52944c7768">&#9670;&nbsp;</a></span>getTypes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structsouffle_1_1_type_set.html">TypeSet</a> const&amp; souffle::TypeAnalysis::getTypes </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classsouffle_1_1_ast_argument.html">AstArgument</a> *&#160;</td>
          <td class="paramname"><em>argument</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the computed types for the given argument. </p>

<p class="definition">Definition at line <a class="el" href="_ast_type_analysis_8h_source.html#l00048">48</a> of file <a class="el" href="_ast_type_analysis_8h_source.html">AstTypeAnalysis.h</a>.</p>

<p class="reference">References <a class="el" href="_ast_type_analysis_8cpp_source.html#l00517">analyseTypes()</a>, and <a class="el" href="_ast_type_analysis_8h_source.html#l00066">argumentTypes</a>.</p>

<p class="reference">Referenced by <a class="el" href="_ast_semantic_checker_8cpp_source.html#l00064">souffle::AstSemanticChecker::checkProgram()</a>, <a class="el" href="_ast_transforms_8cpp_source.html#l01566">souffle::ResolveAnonymousRecordsAliases::findVariablesRecordMapping()</a>, and <a class="el" href="_ast_transforms_8cpp_source.html#l01253">souffle::PolymorphicObjectsTransformer::transform()</a>.</p>
<div class="fragment"><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;                                                               {</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classsouffle_1_1_type_analysis.html#aa78a3ac07ebd79b4d3e3d1c277522178">argumentTypes</a>.at(argument);</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    }</div><div class="ttc" id="classsouffle_1_1_type_analysis_html_aa78a3ac07ebd79b4d3e3d1c277522178"><div class="ttname"><a href="classsouffle_1_1_type_analysis.html#aa78a3ac07ebd79b4d3e3d1c277522178">souffle::TypeAnalysis::argumentTypes</a></div><div class="ttdeci">std::map&lt; const AstArgument *, TypeSet &gt; argumentTypes</div><div class="ttdef"><b>Definition:</b> <a href="_ast_type_analysis_8h_source.html#l00066">AstTypeAnalysis.h:66</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsouffle_1_1_type_analysis_ae54c7f752529cbe534c2cc52944c7768_cgraph.png" border="0" usemap="#classsouffle_1_1_type_analysis_ae54c7f752529cbe534c2cc52944c7768_cgraph" alt=""/></div>
<map name="classsouffle_1_1_type_analysis_ae54c7f752529cbe534c2cc52944c7768_cgraph" id="classsouffle_1_1_type_analysis_ae54c7f752529cbe534c2cc52944c7768_cgraph">
<area shape="rect" id="node2" href="classsouffle_1_1_type_analysis.html#ad03f4742d97ca60ab48f0f76ba0a1b0e" title="Analyse the given clause and computes for each contained argument a set of potential types..." alt="" coords="212,833,371,875"/>
<area shape="rect" id="node3" href="namespacesouffle.html#a785852c2fc649d79a481627605ffcf4f" title="Can a string be parsed as RamFloat. " alt="" coords="421,5,624,47"/>
<area shape="rect" id="node5" href="namespacesouffle.html#a89f207449b2332bf06ab28993dda09b9" title="Can a string be parsed as RamSigned. " alt="" coords="421,71,624,112"/>
<area shape="rect" id="node8" href="namespacesouffle.html#a3773094eb7aa42e20a209b40c9873aa4" title="Can a string be parsed as RamUnsigned. " alt="" coords="421,136,624,177"/>
<area shape="rect" id="node10" href="classsouffle_1_1_ast_functor.html#a9f5f65232109a3102c2e3ed28faa26bd" title="souffle::AstFunctor\l::getArgType" alt="" coords="451,201,594,243"/>
<area shape="rect" id="node11" href="classsouffle_1_1_ast_atom.html#a9c726c597d7921245dd97dcc72b8aeed" title="get arguments " alt="" coords="1249,349,1479,375"/>
<area shape="rect" id="node13" href="classsouffle_1_1_ast_term.html#a5bf9145afa6b327c21e3393123c292c3" title="get arguments " alt="" coords="1540,290,1767,317"/>
<area shape="rect" id="node14" href="classsouffle_1_1_ast_negation.html#a587c8d4fdcfc28f128cc3ff2cf97895c" title="get negated atom " alt="" coords="445,892,600,933"/>
<area shape="rect" id="node15" href="namespacesouffle.html#ab18cbb3adc2ab328de0db30a3fddf7e0" title="Returns the relation referenced by the given atom. " alt="" coords="973,802,1156,829"/>
<area shape="rect" id="node20" href="classsouffle_1_1_ast_constant.html#a096e202ad0e1a58d59d501ca999c8ec2" title="souffle::AstConstant\l::getConstant" alt="" coords="446,957,599,999"/>
<area shape="rect" id="node21" href="classsouffle_1_1_type_environment.html#a5569e54d58b6ca69f1fffbdd77143545" title="souffle::TypeEnvironment\l::getFloatType" alt="" coords="971,444,1158,485"/>
<area shape="rect" id="node24" href="classsouffle_1_1_ast_binary_constraint.html#a72b9e10473e1748d720bbf68a3e7f471" title="get LHS argument " alt="" coords="421,1023,625,1064"/>
<area shape="rect" id="node25" href="classsouffle_1_1_type_environment.html#a5586a154835d2bfc076b9d5fcc11a50f" title="souffle::TypeEnvironment\l::getNumberType" alt="" coords="971,512,1158,553"/>
<area shape="rect" id="node26" href="classsouffle_1_1_type_environment.html#aeb23d98ddd37a09e6019c5450bb82eb9" title="souffle::TypeEnvironment\l::getNumericTypes" alt="" coords="429,1088,616,1129"/>
<area shape="rect" id="node28" href="classsouffle_1_1_ast_aggregator.html#adf64f4a66f682da44e78fd000743e1ea" title="Get aggregate operator. " alt="" coords="439,1153,606,1195"/>
<area shape="rect" id="node29" href="classsouffle_1_1_ast_functor.html#a503ff57e30e3e80bdf94b70200c6a626" title="souffle::AstFunctor\l::getReturnType" alt="" coords="451,1219,594,1260"/>
<area shape="rect" id="node30" href="classsouffle_1_1_ast_binary_constraint.html#a61055c91c04bcbe4d03873044c6bf4b8" title="get RHS argument " alt="" coords="421,1284,625,1325"/>
<area shape="rect" id="node31" href="classsouffle_1_1_type_environment.html#a72fa419d33bf813f22efabec629a4627" title="souffle::TypeEnvironment\l::getSymbolType" alt="" coords="971,736,1158,777"/>
<area shape="rect" id="node32" href="classsouffle_1_1_ast_aggregator.html#ab7e1ea1e90047289a281ebe75a19365e" title="Get target expression. " alt="" coords="439,1349,606,1391"/>
<area shape="rect" id="node33" href="classsouffle_1_1_ast_numeric_constant.html#ad55654c8c9b125d7c3c510992c9565d8" title="souffle::AstNumericConstant\l::getType" alt="" coords="419,1415,627,1456"/>
<area shape="rect" id="node34" href="classsouffle_1_1_type_environment.html#ada544cc106c8c80c9120e2c1d1424ebf" title="souffle::TypeEnvironment\l::getType" alt="" coords="429,1480,616,1521"/>
<area shape="rect" id="node35" href="classsouffle_1_1_type_environment.html#a0b191b7782e170a23b54f7ec347a32ab" title="souffle::TypeEnvironment\l::getUnsignedType" alt="" coords="971,372,1158,413"/>
<area shape="rect" id="node36" href="structsouffle_1_1_type_set.html#ad779397583248bcbf50b982e5314c2e2" title="Adds the given type to this set. " alt="" coords="437,1546,608,1573"/>
<area shape="rect" id="node37" href="namespacesouffle.html#a1194839f74c824923896977b98541e2e" title="Indicate whether a functor is overloaded. " alt="" coords="419,1597,626,1623"/>
<area shape="rect" id="node38" href="namespacesouffle.html#a8cc19c66d9d13ce64e65f14dcabb43b3" title="Determines whether type a is a subtype of type b. " alt="" coords="446,689,599,715"/>
<area shape="rect" id="node43" href="classsouffle_1_1_type_environment.html#a5ead83575e9abfebb3a0b180a33a7d96" title="souffle::TypeEnvironment\l::isType" alt="" coords="691,841,877,883"/>
<area shape="rect" id="node4" href="namespacesouffle.html#a42f50e44c16d45c78e4a37b005ac94c9" title="Converts a string to a RamFloat. " alt="" coords="681,13,887,39"/>
<area shape="rect" id="node6" href="namespacesouffle.html#ad354d1210c639429c093f92ba2966a75" title="Converts a string to a RamSigned. " alt="" coords="675,79,893,106"/>
<area shape="rect" id="node7" href="namespacesouffle.html#ab9fd86fe230c58e924db2cf47e1ba5e0" title="Determine if one string is a prefix of another. " alt="" coords="1003,110,1126,137"/>
<area shape="rect" id="node9" href="namespacesouffle.html#a084bbb9535fee35e4682c948ce88bddb" title="Converts a string to a RamUnsigned. " alt="" coords="685,133,883,175"/>
<area shape="rect" id="node12" href="namespacesouffle.html#ad62d4e824a9d74c7462da546a21780fe" title="A utility function enabling the creation of a vector of pointers. " alt="" coords="1815,371,1961,398"/>
<area shape="rect" id="node16" href="classsouffle_1_1_ast_atom.html#a2fcd569fa7d8ed8c0c2dfd0d1c362e50" title="get qualified name " alt="" coords="1236,679,1492,706"/>
<area shape="rect" id="node17" href="namespacesouffle.html#ada252aa15afbf7d703a11b000dfd4048" title="Returns the relation with the given name in the program. " alt="" coords="1290,730,1438,757"/>
<area shape="rect" id="node18" href="namespacesouffle.html#a62f80c157a6a365d78a43592732a8efa" title="Returns the first element in a container that satisfies a given predicate, nullptr otherwise..." alt="" coords="1601,551,1705,578"/>
<area shape="rect" id="node19" href="classsouffle_1_1_ast_program.html#a71fb3c28c3a105637c22cbe6a9fb63ef" title="get relations " alt="" coords="1578,643,1729,684"/>
<area shape="rect" id="node22" href="namespacesouffle.html#a0df5320dfcc5fe6ad9bbda0edc5876bc" title="Returns the type with the given name in the program. " alt="" coords="1301,511,1427,538"/>
<area shape="rect" id="node23" href="classsouffle_1_1_ast_program.html#a0eca120e93df25229f5a39e6895137c2" title="get types " alt="" coords="1578,465,1729,507"/>
<area shape="rect" id="node27" href="classsouffle_1_1_type.html#a00437c665d598367ff16229c823c728f" title="souffle::Type::print" alt="" coords="713,1095,855,1122"/>
<area shape="rect" id="node39" href="classsouffle_1_1_subset_type.html#ac5c52e503cbce42370d6ada3f050773d" title="souffle::SubsetType\l::getBaseType" alt="" coords="710,572,858,613"/>
<area shape="rect" id="node40" href="classsouffle_1_1_type.html#a2bc9172d0ce6390a7960b24b16172c79" title="souffle::Type::getTypeEnvironment" alt="" coords="941,685,1188,711"/>
<area shape="rect" id="node41" href="namespacesouffle.html#a4e502e6abb9a3e9a8e4c1168dbf23743" title="Determines whether the given type is a number type. " alt="" coords="701,638,867,665"/>
<area shape="rect" id="node42" href="namespacesouffle.html#a11f6c352eec6bde7b5a0b143ffe64e3b" title="Determines whether the given type is a symbol type. " alt="" coords="702,739,866,766"/>
</map>
</div>

</div>
</div>
<a id="ad8b14d983a147434ebbbea66d4072229"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8b14d983a147434ebbbea66d4072229">&#9670;&nbsp;</a></span>print()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void souffle::TypeAnalysis::print </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>print the analysis result in HTML format </p>

<p>Reimplemented from <a class="el" href="classsouffle_1_1_ast_analysis.html#a723b940866e20ec2c4860f1a883072c2">souffle::AstAnalysis</a>.</p>

<p class="definition">Definition at line <a class="el" href="_ast_type_analysis_8cpp_source.html#l00504">504</a> of file <a class="el" href="_ast_type_analysis_8cpp_source.html">AstTypeAnalysis.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="_ast_type_analysis_8h_source.html#l00039">TypeAnalysis()</a>.</p>
<div class="fragment"><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                                             {</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    os &lt;&lt; <span class="stringliteral">&quot;-- Analysis logs --&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    os &lt;&lt; <a class="code" href="classsouffle_1_1_type_analysis.html#afc9b7ee6a35619da76e4277ee8b63ed3">analysisLogs</a>.str() &lt;&lt; std::endl;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    os &lt;&lt; <span class="stringliteral">&quot;-- Result --&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; cur : <a class="code" href="classsouffle_1_1_type_analysis.html#ac9b0bfb44850f1c3295306cd9cea7c84">annotatedClauses</a>) {</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        os &lt;&lt; *cur &lt;&lt; std::endl;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    }</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;}</div><div class="ttc" id="classsouffle_1_1_type_analysis_html_ac9b0bfb44850f1c3295306cd9cea7c84"><div class="ttname"><a href="classsouffle_1_1_type_analysis.html#ac9b0bfb44850f1c3295306cd9cea7c84">souffle::TypeAnalysis::annotatedClauses</a></div><div class="ttdeci">std::vector&lt; std::unique_ptr&lt; AstClause &gt; &gt; annotatedClauses</div><div class="ttdef"><b>Definition:</b> <a href="_ast_type_analysis_8h_source.html#l00067">AstTypeAnalysis.h:67</a></div></div>
<div class="ttc" id="classsouffle_1_1_type_analysis_html_afc9b7ee6a35619da76e4277ee8b63ed3"><div class="ttname"><a href="classsouffle_1_1_type_analysis.html#afc9b7ee6a35619da76e4277ee8b63ed3">souffle::TypeAnalysis::analysisLogs</a></div><div class="ttdeci">std::stringstream analysisLogs</div><div class="ttdef"><b>Definition:</b> <a href="_ast_type_analysis_8h_source.html#l00068">AstTypeAnalysis.h:68</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a37750304e3c3efc004294bbc934e8549"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37750304e3c3efc004294bbc934e8549">&#9670;&nbsp;</a></span>run()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void souffle::TypeAnalysis::run </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classsouffle_1_1_ast_translation_unit.html">AstTranslationUnit</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>run analysis for a Ast translation unit </p>

<p>Implements <a class="el" href="classsouffle_1_1_ast_analysis.html#a55b57409b1048a0b0f3dec22670f1daa">souffle::AstAnalysis</a>.</p>

<p class="definition">Definition at line <a class="el" href="_ast_type_analysis_8cpp_source.html#l00479">479</a> of file <a class="el" href="_ast_type_analysis_8cpp_source.html">AstTypeAnalysis.cpp</a>.</p>

<p class="reference">References <a class="el" href="_global_8h_source.html#l00135">souffle::Global::config()</a>, <a class="el" href="_ast_type_analysis_8cpp_source.html#l00416">souffle::createAnnotatedClause()</a>, <a class="el" href="_ast_translation_unit_8h_source.html#l00045">souffle::AstTranslationUnit::getAnalysis()</a>, <a class="el" href="_ast_utils_8cpp_source.html#l00042">souffle::getClauses()</a>, <a class="el" href="_ast_translation_unit_8h_source.html#l00069">souffle::AstTranslationUnit::getProgram()</a>, and <a class="el" href="_ast_program_8h_source.html#l00057">souffle::AstProgram::getRelations()</a>.</p>

<p class="reference">Referenced by <a class="el" href="_ast_type_analysis_8h_source.html#l00039">TypeAnalysis()</a>.</p>
<div class="fragment"><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                                                                {</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="comment">// Check if debugging information is being generated and note where logs should be sent</span></div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    std::ostream* debugStream = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classsouffle_1_1_global.html#a2dcb257b0f98d0b882862427cc965640">Global::config</a>().has(<span class="stringliteral">&quot;debug-report&quot;</span>) || <a class="code" href="classsouffle_1_1_global.html#a2dcb257b0f98d0b882862427cc965640">Global::config</a>().<span class="keyword">get</span>(<span class="stringliteral">&quot;show&quot;</span>) == <span class="stringliteral">&quot;type-analysis&quot;</span>) {</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        debugStream = &amp;<a class="code" href="classsouffle_1_1_type_analysis.html#afc9b7ee6a35619da76e4277ee8b63ed3">analysisLogs</a>;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    }</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; program = *translationUnit.getProgram();</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <span class="keyword">auto</span>* typeEnvAnalysis = translationUnit.getAnalysis&lt;TypeEnvironmentAnalysis&gt;();</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> AstRelation* rel : translationUnit.getProgram()-&gt;getRelations()) {</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> AstClause* clause : <a class="code" href="namespacesouffle.html#a4d9e53888640a9abfd7ea7c43715152a">getClauses</a>(program, *rel)) {</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;            <span class="comment">// Perform the type analysis</span></div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;            std::map&lt;const AstArgument*, TypeSet&gt; clauseArgumentTypes =</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                    <a class="code" href="classsouffle_1_1_type_analysis.html#ad03f4742d97ca60ab48f0f76ba0a1b0e">analyseTypes</a>(typeEnvAnalysis-&gt;getTypeEnvironment(), *clause, translationUnit.getProgram(),</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                            debugStream);</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;            <a class="code" href="classsouffle_1_1_type_analysis.html#aa78a3ac07ebd79b4d3e3d1c277522178">argumentTypes</a>.insert(clauseArgumentTypes.begin(), clauseArgumentTypes.end());</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;            <span class="keywordflow">if</span> (debugStream != <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                <span class="comment">// Store an annotated clause for printing purposes</span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;                AstClause* annotatedClause = <a class="code" href="namespacesouffle.html#a42eef65f1512c8189dc19ae26f200acc">createAnnotatedClause</a>(clause, clauseArgumentTypes);</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                <a class="code" href="classsouffle_1_1_type_analysis.html#ac9b0bfb44850f1c3295306cd9cea7c84">annotatedClauses</a>.emplace_back(annotatedClause);</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;            }</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        }</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    }</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;}</div><div class="ttc" id="classsouffle_1_1_type_analysis_html_ac9b0bfb44850f1c3295306cd9cea7c84"><div class="ttname"><a href="classsouffle_1_1_type_analysis.html#ac9b0bfb44850f1c3295306cd9cea7c84">souffle::TypeAnalysis::annotatedClauses</a></div><div class="ttdeci">std::vector&lt; std::unique_ptr&lt; AstClause &gt; &gt; annotatedClauses</div><div class="ttdef"><b>Definition:</b> <a href="_ast_type_analysis_8h_source.html#l00067">AstTypeAnalysis.h:67</a></div></div>
<div class="ttc" id="namespacesouffle_html_a42eef65f1512c8189dc19ae26f200acc"><div class="ttname"><a href="namespacesouffle.html#a42eef65f1512c8189dc19ae26f200acc">souffle::createAnnotatedClause</a></div><div class="ttdeci">AstClause * createAnnotatedClause(const AstClause *clause, const std::map&lt; const AstArgument *, TypeSet &gt; argumentTypes)</div><div class="ttdef"><b>Definition:</b> <a href="_ast_type_analysis_8cpp_source.html#l00416">AstTypeAnalysis.cpp:416</a></div></div>
<div class="ttc" id="classsouffle_1_1_global_html_a2dcb257b0f98d0b882862427cc965640"><div class="ttname"><a href="classsouffle_1_1_global.html#a2dcb257b0f98d0b882862427cc965640">souffle::Global::config</a></div><div class="ttdeci">static MainConfig &amp; config()</div><div class="ttdef"><b>Definition:</b> <a href="_global_8h_source.html#l00135">Global.h:135</a></div></div>
<div class="ttc" id="namespacesouffle_html_a4d9e53888640a9abfd7ea7c43715152a"><div class="ttname"><a href="namespacesouffle.html#a4d9e53888640a9abfd7ea7c43715152a">souffle::getClauses</a></div><div class="ttdeci">std::vector&lt; AstClause * &gt; getClauses(const AstProgram &amp;program, const AstQualifiedName &amp;relationName)</div><div class="ttdoc">Returns a vector of clauses in the program describing the relation with the given name...</div><div class="ttdef"><b>Definition:</b> <a href="_ast_utils_8cpp_source.html#l00042">AstUtils.cpp:42</a></div></div>
<div class="ttc" id="classsouffle_1_1_type_analysis_html_aa78a3ac07ebd79b4d3e3d1c277522178"><div class="ttname"><a href="classsouffle_1_1_type_analysis.html#aa78a3ac07ebd79b4d3e3d1c277522178">souffle::TypeAnalysis::argumentTypes</a></div><div class="ttdeci">std::map&lt; const AstArgument *, TypeSet &gt; argumentTypes</div><div class="ttdef"><b>Definition:</b> <a href="_ast_type_analysis_8h_source.html#l00066">AstTypeAnalysis.h:66</a></div></div>
<div class="ttc" id="classsouffle_1_1_type_analysis_html_afc9b7ee6a35619da76e4277ee8b63ed3"><div class="ttname"><a href="classsouffle_1_1_type_analysis.html#afc9b7ee6a35619da76e4277ee8b63ed3">souffle::TypeAnalysis::analysisLogs</a></div><div class="ttdeci">std::stringstream analysisLogs</div><div class="ttdef"><b>Definition:</b> <a href="_ast_type_analysis_8h_source.html#l00068">AstTypeAnalysis.h:68</a></div></div>
<div class="ttc" id="classsouffle_1_1_type_analysis_html_ad03f4742d97ca60ab48f0f76ba0a1b0e"><div class="ttname"><a href="classsouffle_1_1_type_analysis.html#ad03f4742d97ca60ab48f0f76ba0a1b0e">souffle::TypeAnalysis::analyseTypes</a></div><div class="ttdeci">static std::map&lt; const AstArgument *, TypeSet &gt; analyseTypes(const TypeEnvironment &amp;env, const AstClause &amp;clause, const AstProgram *program, std::ostream *logs=nullptr)</div><div class="ttdoc">Analyse the given clause and computes for each contained argument a set of potential types...</div><div class="ttdef"><b>Definition:</b> <a href="_ast_type_analysis_8cpp_source.html#l00517">AstTypeAnalysis.cpp:517</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsouffle_1_1_type_analysis_a37750304e3c3efc004294bbc934e8549_cgraph.png" border="0" usemap="#classsouffle_1_1_type_analysis_a37750304e3c3efc004294bbc934e8549_cgraph" alt=""/></div>
<map name="classsouffle_1_1_type_analysis_a37750304e3c3efc004294bbc934e8549_cgraph" id="classsouffle_1_1_type_analysis_a37750304e3c3efc004294bbc934e8549_cgraph">
<area shape="rect" id="node2" href="classsouffle_1_1_global.html#a2dcb257b0f98d0b882862427cc965640" title="souffle::Global::config" alt="" coords="485,187,648,214"/>
<area shape="rect" id="node3" href="namespacesouffle.html#a42eef65f1512c8189dc19ae26f200acc" title="souffle::createAnnotated\lClause" alt="" coords="247,83,429,124"/>
<area shape="rect" id="node11" href="classsouffle_1_1_ast_translation_unit.html#af396e44c83e5ad410c9ec3e2f6b91758" title="get analysis: analysis is generated on the fly if not present " alt="" coords="241,225,435,267"/>
<area shape="rect" id="node13" href="namespacesouffle.html#a4d9e53888640a9abfd7ea7c43715152a" title="Returns a vector of clauses in the program describing the relation with the given name..." alt="" coords="265,291,411,318"/>
<area shape="rect" id="node16" href="classsouffle_1_1_ast_translation_unit.html#a85862a5fcfecdf63c7367926cdedde23" title="get the AST program " alt="" coords="241,343,435,384"/>
<area shape="rect" id="node17" href="classsouffle_1_1_ast_program.html#a71fb3c28c3a105637c22cbe6a9fb63ef" title="get relations " alt="" coords="263,408,413,449"/>
<area shape="rect" id="node4" href="classsouffle_1_1_ast_clause.html#ab7a5b630d02cd69873aab066c2bd9c46" title="Apply the mapper to all child nodes. " alt="" coords="497,5,636,47"/>
<area shape="rect" id="node5" href="classsouffle_1_1_ast_clause.html#aef9cb574a067db73c83fd9c9f63d297f" title="Create a clone (i.e. " alt="" coords="497,71,636,112"/>
<area shape="rect" id="node8" href="namespacesouffle.html#a307bae61c898715dccb57c9732335000" title="A utility function visiting all nodes within the ast rooted by the given node recursively in a depth&#45;..." alt="" coords="483,137,651,163"/>
<area shape="rect" id="node6" href="namespacesouffle.html#a018886d19f141b1cb565199a517c598f" title="souffle::clone" alt="" coords="744,27,853,54"/>
<area shape="rect" id="node7" href="classsouffle_1_1_ast_node.html#ae84bf084ceca6ac36dc4be406f42870f" title="Return source location of the AstNode. " alt="" coords="699,78,899,105"/>
<area shape="rect" id="node9" href="namespacesouffle.html#a030c754119d60ea72cff8af5b62710e6" title="A utility function visiting all nodes within the ast rooted by the given node recursively in a depth&#45;..." alt="" coords="715,129,883,171"/>
<area shape="rect" id="node10" href="classsouffle_1_1_ast_node.html#a07dd728cde93a2b1d72d987cf54cbd8e" title="Obtain a list of all embedded AST child nodes. " alt="" coords="947,129,1137,171"/>
<area shape="rect" id="node12" href="classsouffle_1_1_debug_report.html#a4e6fe0a6d9854ce570d008772daa9aba" title="souffle::DebugReport\l::addSection" alt="" coords="487,239,646,280"/>
<area shape="rect" id="node14" href="classsouffle_1_1_ast_program.html#aa04b430e385f40c6fe2bf7ad2ca31bb3" title="get clauses " alt="" coords="491,312,642,353"/>
<area shape="rect" id="node15" href="namespacesouffle.html#ad62d4e824a9d74c7462da546a21780fe" title="A utility function enabling the creation of a vector of pointers. " alt="" coords="725,349,872,375"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Field Documentation</h2>
<a id="afc9b7ee6a35619da76e4277ee8b63ed3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc9b7ee6a35619da76e4277ee8b63ed3">&#9670;&nbsp;</a></span>analysisLogs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::stringstream souffle::TypeAnalysis::analysisLogs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_ast_type_analysis_8h_source.html#l00068">68</a> of file <a class="el" href="_ast_type_analysis_8h_source.html">AstTypeAnalysis.h</a>.</p>

</div>
</div>
<a id="ac9b0bfb44850f1c3295306cd9cea7c84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9b0bfb44850f1c3295306cd9cea7c84">&#9670;&nbsp;</a></span>annotatedClauses</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::unique_ptr&lt;<a class="el" href="classsouffle_1_1_ast_clause.html">AstClause</a>&gt; &gt; souffle::TypeAnalysis::annotatedClauses</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_ast_type_analysis_8h_source.html#l00067">67</a> of file <a class="el" href="_ast_type_analysis_8h_source.html">AstTypeAnalysis.h</a>.</p>

</div>
</div>
<a id="aa78a3ac07ebd79b4d3e3d1c277522178"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa78a3ac07ebd79b4d3e3d1c277522178">&#9670;&nbsp;</a></span>argumentTypes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;const <a class="el" href="classsouffle_1_1_ast_argument.html">AstArgument</a>*, <a class="el" href="structsouffle_1_1_type_set.html">TypeSet</a>&gt; souffle::TypeAnalysis::argumentTypes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_ast_type_analysis_8h_source.html#l00066">66</a> of file <a class="el" href="_ast_type_analysis_8h_source.html">AstTypeAnalysis.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_ast_type_analysis_8h_source.html#l00048">getTypes()</a>.</p>

</div>
</div>
<a id="a88c2b46242dcb7466a869059309b965e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88c2b46242dcb7466a869059309b965e">&#9670;&nbsp;</a></span>name</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr const char* souffle::TypeAnalysis::name = &quot;type-analysis&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_ast_type_analysis_8h_source.html#l00037">37</a> of file <a class="el" href="_ast_type_analysis_8h_source.html">AstTypeAnalysis.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_ast_type_analysis_8h_source.html">AstTypeAnalysis.h</a></li>
<li><a class="el" href="_ast_type_analysis_8cpp_source.html">AstTypeAnalysis.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
